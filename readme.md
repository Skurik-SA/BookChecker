# BookChecker Backend

–î–ª—è –∑–∞–ø—É—Å–∫–∞

---

## üîê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–≤–∞ —Ñ–∞–π–ª–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏:

### .env.dev
```dotenv
ENV=dev
DEBUG=True
SECRET_KEY='—Ç—É—Ç –∫–ª—é—á'

POSTGRES_DB=bookshelf_dev
POSTGRES_USER=devuser
POSTGRES_PASSWORD=devpass

DB_HOST=db
DB_PORT=5432

YANDEX_SECRET=—Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è —è–Ω–¥–µ–∫—Å–∞
YANDEX_CLIENT_ID=–∫–ª—é—á –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

### .env.prod

–ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ, –Ω–æ —Å `DEBUG=False` –∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω-–∑–Ω–∞—á–µ–Ω–∏—è–º–∏.

---

## üöÄ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (dev)

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞:

   ```bash
   git clone <repo_url>
   cd <project_root>
   ```

2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `.env.dev` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω.

3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:

   ```bash
   docker-compose up -d
   ```
   –∏–ª–∏ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å/–ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã:
   ```bash
    docker-compose up -d --build
    ```

   –í —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

   * –ö–æ–¥ –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä,
   * –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏,
   * Dev-—Å–µ—Ä–≤–µ—Ä Django –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ `localhost:8000`.

---

## üëë –ê–¥–º–∏–Ω–∫–∞

* URL: **`http://localhost:8000/admin/`**
* –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å–æ–∑–¥–∞—Ç—å –µ–≥–æ –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ `createsuperuser`).

```bash
    docker-compose exec web python manage.py createsuperuser
```
---

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

–ü–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω—ã:

* **OpenAPI schema**: `GET /api/schema/`
* **Swagger UI**:      `GET /api/docs/`
* **ReDoc**:           `GET /api/redoc/`

–û—á–µ–≤–∏–¥–Ω–æ –ø–æ –ø—É—Ç–∏
* URL: **`http://localhost:8000/{–æ–¥–∏–Ω –∏–∑ –ø—É—Ç–µ–π –≤—ã—à–µ}`**

---
–®–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º `docker-compose`:

| –ö–æ–º–∞–Ω–¥–∞                                              | –û–ø–∏—Å–∞–Ω–∏–µ                                            | –†–µ–∂–∏–º    |
| ---------------------------------------------------- | --------------------------------------------------- | -------- |
| `docker-compose up -d --build`                       | –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã (—É—á—Ç—ë—Ç `override`)  | Dev      |
| `docker-compose -f docker-compose.yml up -d --build` | –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ —á–∏—Å—Ç–æ–º—É `docker-compose.yml` | Prod     |
| `docker-compose stop`                                | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (–¥–∞–∂–µ –≤ —Ñ–æ–Ω–µ)             | Dev/Prod |
| `docker-compose down`                                | –£–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ —Å–µ—Ç–∏, –Ω–æ **–Ω–µ** —Ç–æ–º–∞           | Dev/Prod |
| `docker-compose down -v`                             | –£–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —Å–µ—Ç–∏ –∏ —Ç–æ–º–∞                     | Dev/Prod |
| `docker-compose ps`                                  | –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤                       | Dev/Prod |
| `docker-compose config`                              | –í—ã–≤–µ—Å—Ç–∏ –∏—Ç–æ–≥–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (—Å —É—á—ë—Ç–æ–º override)   | Dev/Prod |
| `docker-compose logs -f`                             | –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏      | Dev/Prod |
| `docker-compose logs web`                            | –°–º–æ—Ç—Ä–µ—Ç—å —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–∞ `web`                  | Dev/Prod |
| `docker-compose logs db`                             | –°–º–æ—Ç—Ä–µ—Ç—å —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–∞ `db`                   | Dev/Prod |
| `docker-compose build web`                           | –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑ —Å–µ—Ä–≤–∏—Å–∞ `web`                     | Dev/Prod |
| `docker-compose build db`                            | –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑ —Å–µ—Ä–≤–∏—Å–∞ `db`                      | Dev/Prod |
| `docker-compose pull`                                | –°–∫–∞—á–∞—Ç—å —Å–≤–µ–∂–∏–µ –æ–±—Ä–∞–∑—ã –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞                    | Dev/Prod |
| `docker-compose restart web`                         | –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å `web`                          | Dev/Prod |
| `docker-compose restart db`                          | –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å `db`                           | Dev/Prod |